@using MudBlazor
@namespace CapstoneMaui.Core.Components.Pages
@inject NavigationManager Nav

@page "/manager-account"

<style>
	.users {
	display: flex;
	justify-content: space-between;
	flex-wrap: wrap;
	}
	.border {
	border-style: solid;
	border-width: 1px;
	}
	.textStandard {
	font-size: 20px; 
	font-weight:bold;
	}
	.headingText {
	display: flex;
	justify-content: space-between;
	margin-left: 5px;
	margin-right: 5px;
	}
	.marginStandard {
	margin-left: 20px;
	margin-right: 20px;
	}
	.inputStyle {
	border-style: solid;
	border-width: 1px; 
	border-color: black;
	}

</style>

<ManagerTopBar/>

<MudSelect T="int" @bind-Value="action" Label="Select Action" Variant="Variant.Outlined" Placeholder="Action">
	<MudSelectItem Value=1>Create</MudSelectItem>
	<MudSelectItem Value=2>Modify</MudSelectItem>
	<MudSelectItem Value=3>Delete</MudSelectItem>
</MudSelect>

@switch(action) {
	case 1:
		<div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
			<div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
				<MudTextField Label="Email" Variant="Variant.Outlined" Style="width: 250px;" @bind-Value="_email" />
				<MudTextField Label="First Name" Variant="Variant.Outlined" Style="width: 250px;" @bind-Value="_name" />
				<MudTextField Label="Password" Variant="Variant.Outlined" InputType="InputType.Password" Style="width: 250px;" @bind-Value="_password" />
				<MudButton Variant="Variant.Filled" Color="Color.Primary" Style="width: 250px;">Create Account</MudButton>
			</div>
		</div>
		break;
	case 2:

		<div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
			<div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
				<MudSelect T="string" @bind-Value="_value3" FitContent=true Variant="Variant.Outlined"> 
					@foreach (var employee in _namePlaceholder)
					{
						<MudSelectItem Value="@employee">@employee</MudSelectItem>
					}
				</MudSelect>
				<MudTextField Label="Email" Variant="Variant.Outlined" Style="width: 250px;" @bind-Value="_email" />
				<MudTextField Label="First Name" Variant="Variant.Outlined" Style="width: 250px;" @bind-Value="_name" />
				<MudTextField Label="Password" Variant="Variant.Outlined" InputType="InputType.Password" Style="width: 250px;" @bind-Value="_password" />
				<MudButton Variant="Variant.Filled" Color="Color.Primary" Style="width: 250px;">Modify</MudButton>
			</div>
		</div>


		break;
	case 3:
		<div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
			<div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
				<MudSelect T="string" @bind-value="_value3" FitContent=true Variant="Variant.Outlined"> 
					@foreach (var employee in _namePlaceholder)
					{
						<MudSelectItem Value="employee">@employee</MudSelectItem>
					}
				</MudSelect>

				<MudButton OnClick="@ToggleOpen" Variant="Variant.Filled" Color="Color.Primary" Style="width: 80%;">Delete Account</MudButton>

				<MudPopover Open="@_open" Class="px-4 pt-4" AnchorOrigin="Origin.CenterCenter">
					<div class="d-flex flex-column">
						<MudText>Are you sure?</MudText>
						<MudText Style="color: red;">This action is irreversible.</MudText>
								<div style="display: flex; flex-direction: row; justify-content: space-around;">
									<MudButton OnClick="@ToggleOpen">Cancel</MudButton>
									<MudButton OnClick="@ToggleOpen" Color="Color.Error">Confirm</MudButton>
								</div>
					</div>
				</MudPopover>
			</div>
		</div>
		break;
	default :
		break;
}






<ManagerBottomBar/>

@code {
	private string _value;
	private string _value2;
	private string _value3;

	private int action;

	private string _email;
	private string _name;
	private string _password;

	private DateRange _dateRange { get; set; }

	private readonly string[] _pageSelect = { "Jobsite", "Schedule", "Status", "Progress", "Request", "Notification" };
	private readonly string[] _jobSelect = { "Job1", "Job2" };
	private readonly string[] _actions = { "Create", "Modify" };
	private readonly string[] _namePlaceholder = { "Jeff", "Bob", "Alice", "Susan" };


	private bool _open;

	private void ToggleOpen() => _open = !_open;

	// placeholder
	private void Back()
	{
		Nav.NavigateTo("/employee-dashboard");
	}

}