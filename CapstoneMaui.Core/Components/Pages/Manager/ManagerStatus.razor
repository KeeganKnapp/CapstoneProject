@using CapstoneMaui.Core.Services
@using MudBlazor
@using MudBlazor.Components
@using CapstoneMaui.Core.Models
@namespace CapstoneMaui.Core.Components.Pages
@inject NavigationManager Nav

@page "/manager-status"

<style>
	.users {
		text-align: center;
	}
	.border {
		border-style: solid;
		border-width: 1px;
	}
	.textStandard {
		font-size: 20px; 
		font-weight:bold;
	}
	.headingText {
		display: flex;
		justify-content: space-evenly;
		margin-left: 5px;
		margin-right: 5px;
	}
	.marginStandard {
		margin-left: 20px;
		margin-right: 20px;
	}
	
</style>


<MudStack AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween" Spacing="3" Style="max-height: 100vh;">
	<MudSelect T="Guid" @bind-Value="selectedSite" Label="Select Job Site" Variant="Variant.Outlined">
		<MudSelectItem Value="@sites[0].Id">Downtown Construction Site</MudSelectItem>
		<MudSelectItem Value="@sites[1].Id">Uptown Renovation Project</MudSelectItem>
		<MudSelectItem Value="@sites[2].Id">Suburban Housing Development</MudSelectItem>
	</MudSelect>
</MudStack>



<div class="headingText textStandard">
	<div>Employee</div>
	<div>Status</div>
	<div>Hours</div>
</div>

<MudPaper Width="100%" style="height:440px;overflow: auto; margin-bottom: 10px;" >
	<MudPaper Elevation="0" Outlined="false" Height="1000px">
		@foreach (var name in _namePlaceholder)
		{
		<div class="headingText textStandard border" style="margin-bottom: 10px;">
			<div class = "users">@name</div>
			<div class = "users">Clocked in</div>
			<div class = "users">6</div>
		</div>
		}
	</MudPaper>
</MudPaper>

<MudStack AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween" Spacing="3" Style="max-height: 100vh;">

<MudSelect	@bind-value="_value3" FitContent=true Variant="Variant.Outlined"> 
	@foreach (var employee in _namePlaceholder)
	{
		<MudSelectItem Value="employee">@employee</MudSelectItem>
	}
</MudSelect>


<MudStack Row=true Justify="Justify.SpaceAround" Spacing="2">
			<MudButton Variant="Variant.Filled" Color="Color.Secondary" Style="float:left; margin-left: 20%">
				Assign
			</MudButton>

			<MudButton Variant="Variant.Filled" Color="Color.Secondary" Style="float:right; margin-right: 20%">
				Remove
			</MudButton>
	</MudStack>

	<MudStack Row=true Justify="Justify.SpaceBetween">
		<MudIconButton Icon="@Icons.Material.Filled.Wallet" Color="Color.Info" Size="Size.Large" />
		<MudButton Variant="Variant.Filled">Request</MudButton>
		<MudIconButton Icon="@Icons.Material.Filled.Notifications" Color="Color.Warning" Size="Size.Large" />
	</MudStack>
</MudStack>





@code {


		private Guid selectedSite = Guid.Empty;
		public List<SiteDto> sites = new()
	{
		new SiteDto(Guid.NewGuid(), "Downtown Construction Site", 47.6062, -122.3321, 100),
		new SiteDto(Guid.NewGuid(), "Uptown Renovation Project", 47.6205, -122.3493, 150),
		new SiteDto(Guid.NewGuid(), "Suburban Housing Development", 47.5301, -122.0326, 200)
	};
	private string _value;
	private string _value2;
	private string _value3;

	private readonly string[] _pageSelect = { "Jobsite", "Schedule", "Status", "Progress", "Request", "Notification" };
	private readonly string[] _jobSelect = { "Job1", "Job2" };

	private readonly string[] _namePlaceholder = { "Jeff", "Bob", "Alice", "Susan" };

	// placeholder
	private void Back()
	{
		Nav.NavigateTo("/employee-dashboard");
	}

}